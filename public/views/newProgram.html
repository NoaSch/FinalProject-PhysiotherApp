<div ui-content-for="title">
    <span>יצירת תכנית אימון</span>
</div>

<div class="scrollable" ng-controller="newProgController as newProgController">
    <div class="scrollable-content paddClass">
      <form role="form" ng-hide="newProgController.clickedAdd || newProgController.videoClick">
         <fieldset>
             <legend align="right"  ng-hide="newProgController.clickedCreate">יצירת תכנית אימון</legend>
             <div ng-hide="newProgController.clickedCreate" class="form-group has-success has-feedback" >
                 <label>שם תכנית אימון</label>
                 <input type="text" required
                        ng-model="newProgController.ProgName"
                        class="form-control"
                        placeholder="הכנס שם תכנית אימון">
             </div>
             <legend align="right" ng-show="newProgController.clickedCreate">{{newProgController.ProgName}} </legend>
             <button class="btn btn-primary btn-block" ng-show="newProgController.clickedCreate" ng-click="newProgController.AddExe()">הוסף תרגיל </button>

             <button class="btn btn-primary btn-block" ng-hide="newProgController.clickedCreate" type="submit" ng-click="newProgController.createProg()">צור תכנית אימון

             </button>
         </fieldset>
         <hr>


                  <div ui-content-for="navbarAction">
                    </div>


        </form>
        <form role="form" ng-show="newProgController.clickedAdd" name="newProgController.upload_form">
            <fieldset>
                <legend ng-show="newProgController.clickedCreate">{{newProgController.ProgName}} </legend>
                <button class="btn btn-primary btn-block" ng-show="newProgController.clickedCreate && newProgController.submitExeClicked && newProgController.finishLoad" ng-click="newProgController.AddMoreExe()">הוסף תרגיל נוסף</button>
                <!--  <a class="list-group-item" href="#/patients">המטופלים שלי <i class="fa fa-chevron-right pull-right"></i></a>-->
                <a ng-click="newProgController.finish()" href="#/" class="btn btn-primary btn-block" ng-show="newProgController.clickedCreate && newProgController.submitExeClicked && newProgController.finishLoad" >סיים </a>
               <!-- <div  ng-show= "!newProgController.submitExeClicked || (newProgController.videoClick && !self.finishLoad)">-->
                <div ng-hide="newProgController.clickedCreate && newProgController.submitExeClicked && newProgController.finishLoad">
                <!--<legend>{{newProgController.ProgName}}</legend>-->
               <legend  align="right" >הוספת תרגיל </legend>
                <div class="form-group has-success has-feedback">
                    <label>שם תרגיל</label>
                    <input type="text"
                           ng-model="newProgController.exeTitle"
                           class="form-control"
                           placeholder="הכנס שם לתרגיל" required>

                </div>
                <div class="form-group">
                    <label>תרגיל מבוסס זמן</label>
                    <ui-switch
                            ng-model="newProgController.onTime"></ui-switch>
                </div>
                <div class="form-group has-success has-feedback">
                    <label>מספר פעמים בשבוע</label>
                    <select name="repeatSelectWeek" id="repeatSelectWeek" ng-model="newProgController.timeInWeek">
                        <option value="כל יום">כל יום </option>
                        <option value="יום כן יום לא">יום כן יום לא</option>
                    </select>
                </div>

                    <div class="form-group has-success has-feedback">
                        <label>מספר תרגולים ביום</label>
                        <input type="number"  min="1"
                               ng-model="newProgController.timeInDay"
                               class="form-control"
                               required>
                    </div>
                <div class="form-group has-success has-feedback">
                    <label> מספר סטים בתרגול</label>
                    <select name="repeatSelectSets" id="repeatSelectSets" ng-model="newProgController.nSets">
                        <option ng-repeat="num in newProgController.nSetsRange">{{num}}</option>
                    </select>
                </div>
                <div class="form-group has-success has-feedback" ng-hide ="newProgController.onTime">
                    <label>מספר חזרות בסט</label>
                    <input type="number"  min="1"
                           ng-model="newProgController.nRepeats"
                           class="form-control"
                            >
                </div>
                <div class="form-group has-success has-feedback" ng-show="newProgController.onTime">
                    <label>משך זמן סט</label>
                    <span><input type="number"  min="1"
                           ng-model="newProgController.setDuration"
                           class="form-control"
                           >
                      <select name="repeatSelectUnit" id="repeatSelectUnit" ng-model="newProgController.setDurationUnits">
                        <option value="שניות">שניות </option>
                        <option value="דקות">דקות</option>

                    </select>
                    </span>
                </div>
                <div class="form-group has-success has-feedback">
                    <label>משך הפסקה בין סטים</label>
                    <input type="number"  min="1"
                           ng-model="newProgController.break"
                           class="form-control"
                           required>
                   <!-- <label>שניות</label>-->
                    <select name="repeatSelectUnit" id="repeatSelectInit" ng-model="newProgController.breakUnits">
                        <option value="שניות">שניות </option>
                        <option value="דקות">דקות</option>
                        <option value="שעות">שעות</option>
                    </select>
                    </span>
                </div>

                <div class="form-group has-success has-feedback">
                   <!-- <label>הוראות נוספות</label>
                    <input type="text"
                           ng-model="newProgController.desc"
                           class="form-control"
                           >-->
                    <label>הוראות נוספות</label>
                    <textarea name="desc" ng-model="newProgController.desc" cols="40" rows="5"></textarea>
                </div>
                    <div class="form-group has-success has-feedback">
                        <label>סרטון:</label>
                        <label class="radioBTN">
                            <input   type="radio" ng-model="newProgController.videoSource" value="no">
                            ללא סרטון
                        </label><br/>
                    <label class="radioBTN">
                        <input  type="radio" ng-model="newProgController.videoSource" value="new">
                        סרטון חדש
                    </label><br/>
                    <label class="radioBTN">
                        <input   type="radio" ng-model="newProgController.videoSource" value="bank">
                        סרטון מהבנק
                    </label><br/><br/>
                        <label ng-show="newProgController.videoSource == 'bank' && newProgController.bankVideoChosen">סרטון נבחר: </label>
                        <label ng-show="newProgController.videoSource == 'bank' && newProgController.bankVideoChosen" >{{newProgController.chosenTitle}}</label>

                    </div>
                <div class="form-group has-success has-feedback" ng-show="newProgController.videoSource == 'new'">
                    <input
                        type="file"
                        ngf-select
                        ng-model="newProgController.file"
                        name="file"
                        ngf-max-size="20MB"
                />
                    <i ng-show="up.upload_form.file.$error.required">*required</i><br>
                    <i ng-show="up.upload_form.file.$error.maxSize">File too large
                        {{up.file.size / 1000000|number:1}}MB: max 20M</i>
                    <i>{{newProgController.progress}}</i><br>
                </div>
                   <!-- <div class="form-group has-success has-feedback">
                        <label>בחר וידאו מבנק תרגילים</label>
                        <button  ng-click="newProgController.showBank()">בנק תרגילים</button>
                    </div>-->
                </div>

                    <div class="scrollable-content" ng-show="newProgController.videoSource == 'bank' && !newProgController.bankVideoChosen">
                        <!--  <div class="section">-->
                        <div class="panel-group"
                             ui-shared-state="myAccordion"
                             ui-default='1'>

                            <div class="panel panel-default" ng-repeat="item in newProgController.bankVideos">
                                <div class="panel-heading" ui-set="{'myAccordion': item}">
                                    <h4 class="panel-title">
                                        {{item.title}}
                                    </h4>
                                </div>
                                <div class="panel-body"> <!--ng-show =exerciseController.chosenExe[item.exe_id]-->
                                    <!--<button class="ProgramDetBtn" ng-click="programsController.getExercises(item.prog_id)">פרטי תכנית</button>-->
                                    <div>
                                        <br>
                                        <video class="videoClass" ng-show="newProgController.videosURL[item.title]" src= {{newProgController.videosURL[item.title]}} controls type="video/mp4">
                                        </video>
                                        <button class="btn btn-primary btn-block" ng-click="newProgController.chooseVideo(item.title)">בחר </button>
                                    </div>
                                </div>
                                <!--<div class="panel-body">
                                    {{item.prog_id}}מספר תכנית
                                    <br>
                                    <!--<button class="ProgramDetBtn" ng-click="programsController.getExercises(item.prog_id)">פרטי תכנית</button>-->
                                <!--<a href="#/exercises"><button class="ProgramDetBtn" ng-click="programsController.clickProg(item.prog_id)">פרטי תכנית</button></a>-->
                                <!--</div>-->

                                <!--</div>-->
                            </div>
                        </div>
                    </div>
                <button class="btn btn-primary btn-block"  ng-hide="newProgController.clickedCreate && newProgController.submitExeClicked && newProgController.finishLoad" ng-disabled="newProgController.upload_form.$invalid"  type="submit" ng-click="newProgController.submit()">הוסף את התרגיל</button>

                <!--<div class="form-group has-success has-feedback">
                    <label>וידאו</label>
                    <input type="file" name="userPhoto" input file="file" class="form-control" ng-model="userPhoto"/>
                </div>-->

               <!-- <form id="uploadForm"
                      enctype="multipart/form-data"
                      acost">tion="http://10.100.102.13:4000/api/photo"
                      method="p
                    <input type="file" name="userPhoto"  ng-model="video"/>

                   <input type="submit" value="העלה וידאו" name="submit">
                    <span id = "status"></span>
                </form>-->
            <!--<input type="file" file ="file" name="userPhoto" />-->

       <!-- <input type="file" file-model="myFile"/><br><br>
        <button ng-click="uploadFile()">Upload</button>
               <!--<input type="submit" value="העלה וידאו" name="submit">-->
             <!--  <span id = "status"></span>-->
            </fieldset>
            <hr>

           <!-- <button class="btn btn-secondary btn-block">
             </button>      הוסף וידאו       -->
          <!--  <button class="btn primary btn-block">
                הוסף תרגיל לתכנית האימון
            </button>
            <div ui-content-for="navbarAction">
            </div>-->
         <!--   <button class="btn btn-primary btn-block">
                הוסף וידאו

            </button>
            <div ui-content-for="navbarAction">

            </div>-->
            <!--<button class="btn btn-primary btn-block">
                צור תכנית אימון
            </button>-->

        </form>
       <!-- <form id="uploadForm" ng-show = "newProgController.videoClick"
              enctype="multipart/form-data"
              action="http://10.100.102.13:4000/api/photo"
              method="post">
            <input type="file" name="userPhoto" />
            <input type="submit" value="העלה וידאו" name="submit" onclick="testFunc()">
            <span id = "status"></span>
        </form>-->

    </div>
</div>

